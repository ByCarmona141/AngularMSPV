{"version":3,"file":"angular-pell.umd.js","sources":["angular-pell/out/app/modules/pell/pell.ts","angular-pell/out/app/modules/pell/pell.component.ts","angular-pell/out/app/modules/pell/pell.module.ts"],"names":["pell.actions","EventEmitter","Component","Output","NgModule","CommonModule"],"mappings":";;;;;;;;;;;;;;;;;AAAA,IAAa,OAAO,GAAG;AACvB,IAAE,IAAI,EAAE;AACR,QAAI,IAAI,EAAE,UAAU;AACpB,QAAI,KAAK,EAAE,MAAM;AACjB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,MAAM,CAAC,CAA9B,EAA8B;AAC9B,KAAG;AACH,IAAE,MAAM,EAAE;AACV,QAAI,IAAI,EAAE,UAAU;AACpB,QAAI,KAAK,EAAE,QAAQ;AACnB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,QAAQ,CAAC,CAAhC,EAAgC;AAChC,KAAG;AACH,IAAE,SAAS,EAAE;AACb,QAAI,IAAI,EAAE,UAAU;AACpB,QAAI,KAAK,EAAE,WAAW;AACtB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,WAAW,CAAC,CAAnC,EAAmC;AACnC,KAAG;AACH,IAAE,aAAa,EAAE;AACjB,QAAI,IAAI,EAAE,oBAAoB;AAC9B,QAAI,KAAK,EAAE,gBAAgB;AAC3B,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,eAAe,CAAC,CAAvC,EAAuC;AACvC,KAAG;AACH,IAAE,QAAQ,EAAE;AACZ,QAAI,IAAI,EAAE,sBAAsB;AAChC,QAAI,KAAK,EAAE,WAAW;AACtB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAA7C,EAA6C;AAC7C,KAAG;AACH,IAAE,QAAQ,EAAE;AACZ,QAAI,IAAI,EAAE,sBAAsB;AAChC,QAAI,KAAK,EAAE,WAAW;AACtB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,CAA7C,EAA6C;AAC7C,KAAG;AACH,IAAE,SAAS,EAAE;AACb,QAAI,IAAI,EAAE,QAAQ;AAClB,QAAI,KAAK,EAAE,WAAW;AACtB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,CAA5C,EAA4C;AAC5C,KAAG;AACH,IAAE,KAAK,EAAE;AACT,QAAI,IAAI,EAAE,iBAAiB;AAC3B,QAAI,KAAK,EAAE,OAAO;AAClB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,aAAa,EAAE,cAAc,CAAC,CAArD,EAAqD;AACrD,KAAG;AACH,IAAE,KAAK,EAAE;AACT,QAAI,IAAI,EAAE,OAAO;AACjB,QAAI,KAAK,EAAE,cAAc;AACzB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,mBAAmB,CAAC,CAA3C,EAA2C;AAC3C,KAAG;AACH,IAAE,KAAK,EAAE;AACT,QAAI,IAAI,EAAE,SAAS;AACnB,QAAI,KAAK,EAAE,gBAAgB;AAC3B,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,qBAAqB,CAAC,CAA7C,EAA6C;AAC7C,KAAG;AACH,IAAE,IAAI,EAAE;AACR,QAAI,IAAI,EAAE,WAAW;AACrB,QAAI,KAAK,EAAE,MAAM;AACjB,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAA9C,EAA8C;AAC9C,KAAG;AACH,IAAE,IAAI,EAAE;AACR,QAAI,IAAI,EAAE,SAAS;AACnB,QAAI,KAAK,EAAE,iBAAiB;AAC5B,QAAI,MAAM,EAAE,YAAZ,EAAkB,OAAA,IAAI,CAAC,sBAAsB,CAAC,CAA9C,EAA8C;AAC9C,KAAG;AACH,IAAE,IAAI,EAAE;AACR,QAAI,IAAI,EAAE,WAAW;AACrB,QAAI,KAAK,EAAE,MAAM;AACjB,QAAI,MAAM,EAAE,YAAZ;AAAE,YACI,IAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAA;AACrD,YAAM,IAAI,GAAG;AAAE,gBAAA,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,CAAA;AACtC,SAAK;AACL,KAAG;AACH,IAAE,KAAK,EAAE;AACT,QAAI,IAAI,EAAE,WAAW;AACrB,QAAI,KAAK,EAAE,OAAO;AAClB,QAAI,MAAM,EAAE,YAAZ;AAAE,YACI,IAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAA;AACtD,YAAM,IAAI,GAAG;AAAE,gBAAA,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAA;AACvC,SAAK;AACL,KAAG;AACH,CAAC,CAAA;AAED,IAMa,IAAI,GAAG,UAAC,OAAO,EAAE,KAAY,EAN1C;AAAE,IAM4B,IAA9B,KAAA,KAAA,KAAA,CAAA,EAA8B,EAAA,KAA9B,GAAA,IAA0C,CAA1C,EAAA;AAAC,IACC,QAAQ,CAAC,WAAW,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAA;AAC7C,CAAC,CAAD;ACvFA,IAAA,aAAA,kBAAA,YAAA;AAAE,IAyBA,SAAF,aAAA,GAAA;AAAE,QAPF,IAAA,CAAA,OAAA,GAAY,MAAM,CAAC,IAAI,CAACA,OAAY,CAAC,CAAC,GAAG,CAAC,UAAA,MAAM,EAAhD,EAAoDA,OAAAA,OAAY,CAAC,MAAM,CAAC,CAAxE,EAAwE,CAAC,CAAzE;AAAC,QACD,IAAA,CAAA,cAAA,GAAmB,gBAAgB,CAAnC;AAAC,QACD,IAAA,CAAA,iBAAA,GAAsB,aAAa,CAAnC;AAAC,QACD,IAAA,CAAA,YAAA,GAAiB,cAAc,CAA/B;AAAC,QAGD,IAAA,CAAA,QAAA,GAAa,IAAIC,iBAAY,EAAU,CAAvC;AAAC,KACkB;AACnB,IACE,aAAF,CAAA,SAAA,CAAA,QAAU,GAAR,YAAF;AAAE,KACC,CAAH;AAAC,IAEC,aAAF,CAAA,SAAA,CAAA,OAAS,GAAP,UAAQ,KAAU,EAApB;AAAE,QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AAC/C,KAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAAH;AAAC;AAEoB,KAjBpB;iCAbD,EAAA,IAAA,EAACC,cAAS,EAAV,zDAaE;EAbF,EAAA,CAAW,kBACT,QAAQ,/BAaI;AAbF,aAAa,kBACvB,QAAQ,EAAE,zCAYmC,IAK/C,UAAA,EAAA,CAAA,EAAA,IAAA,EAAGC,WAAM,EAAT,EAAA;AAAE;ACvBF,IAAA,UAAA,kBAAA,YAAA;AAAE,IAAF,SAAA,UAAA,GAAA;AAAE;;;;;WDcD,kBACC,MAAM,EAAE,CAAC;;;;;;;;;;gDCfJ;AAAC;AAAuB,KAW9B;YDI0jB,CAAC,eAC3jB,EAAD,EAAA,FCZA,EAAA,IAAA,EAACC,aAAQ,EAAT,rDAOE;AAC4B;AAR9B,EAAA,CAAU,kBACR,OAAO,EAAE,9BAOoB;mBAN3BC,nBAM4D;AAA4B;SAN5E,kBACb,kBACD,YAAY,EAAE,CAAC,5DAI4E;AAA+D;AAAC;GAJ/H,CAAC,kBAC7B,OAAO,EAAE,CAAC,aAAa,CAAC,cACzB,EAAD,EAAA,hEAEmK","sourcesContent":["export const actions = {\n  bold: {\n    icon: '<b>B</b>',\n    title: 'Bold',\n    result: () => exec('bold')\n  },\n  italic: {\n    icon: '<i>I</i>',\n    title: 'Italic',\n    result: () => exec('italic')\n  },\n  underline: {\n    icon: '<u>U</u>',\n    title: 'Underline',\n    result: () => exec('underline')\n  },\n  strikethrough: {\n    icon: '<strike>S</strike>',\n    title: 'Strike-through',\n    result: () => exec('strikeThrough')\n  },\n  heading1: {\n    icon: '<b>H<sub>1</sub></b>',\n    title: 'Heading 1',\n    result: () => exec('formatBlock', '<H1>')\n  },\n  heading2: {\n    icon: '<b>H<sub>2</sub></b>',\n    title: 'Heading 2',\n    result: () => exec('formatBlock', '<H2>')\n  },\n  paragraph: {\n    icon: '&#182;',\n    title: 'Paragraph',\n    result: () => exec('formatBlock', '<P>')\n  },\n  quote: {\n    icon: '&#8220; &#8221;',\n    title: 'Quote',\n    result: () => exec('formatBlock', '<BLOCKQUOTE>')\n  },\n  olist: {\n    icon: '&#35;',\n    title: 'Ordered List',\n    result: () => exec('insertOrderedList')\n  },\n  ulist: {\n    icon: '&#8226;',\n    title: 'Unordered List',\n    result: () => exec('insertUnorderedList')\n  },\n  code: {\n    icon: '&lt;/&gt;',\n    title: 'Code',\n    result: () => exec('formatBlock', '<PRE>')\n  },\n  line: {\n    icon: '&#8213;',\n    title: 'Horizontal Line',\n    result: () => exec('insertHorizontalRule')\n  },\n  link: {\n    icon: '&#128279;',\n    title: 'Link',\n    result: () => {\n      const url = window.prompt('Enter the link URL')\n      if (url) exec('createLink', url)\n    }\n  },\n  image: {\n    icon: '&#128247;',\n    title: 'Image',\n    result: () => {\n      const url = window.prompt('Enter the image URL')\n      if (url) exec('insertImage', url)\n    }\n  }\n}\n\nconst classes = {\n  actionbar: 'pell-actionbar',\n  button: 'pell-button',\n  content: 'pell-content'\n}\n\nexport const exec = (command, value = null) => {\n  document.execCommand(command, false, value)\n}\n\nconst preventTab = event => {\n  if (event.which === 9) event.preventDefault()\n}\n\nexport const init = settings => {\n  settings.actions = settings.actions\n    ? settings.actions.map(action => {\n      if (typeof action === 'string') return actions[action]\n      else if (actions[action.name]) return { ...actions[action.name], ...action }\n      return action\n    })\n    : Object.keys(actions).map(action => actions[action])\n\n  settings.classes = { ...classes, ...settings.classes }\n\n  const actionbar = document.createElement('div')\n  actionbar.className = settings.classes.actionbar\n  settings.element.appendChild(actionbar)\n\n  settings.element.content = document.createElement('div')\n  settings.element.content.contentEditable = true\n  settings.element.content.className = settings.classes.content\n  settings.element.content.oninput = event => settings.onChange(event.target.innerHTML)\n  settings.element.content.onkeydown = preventTab\n  settings.element.appendChild(settings.element.content)\n\n  settings.actions.forEach(action => {\n    const button = document.createElement('button')\n    button.className = settings.classes.button\n    button.innerHTML = action.icon\n    button.title = action.title\n    button.onclick = action.result\n    actionbar.appendChild(button)\n  })\n\n  if (settings.styleWithCSS) exec('styleWithCSS')\n\n  return settings.element\n}\n\nexport default { exec, init }","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport * as pell from './pell';\n\n\n@Component({\n  selector: 'pell-editor',\n  template: `<div #pell>\n  <div [class]=\"actionBarClass\">\n    <button *ngFor=\"let action of actions\" [class]=\"actionButtonClass\" [title]=\"action.title\" \n    (click)=\"action.result()\" [innerHTML]=\"action.icon\">\n    </button>\n  </div>\n  <div contenteditable=\"true\" [class]=\"contentClass\" (input)=\"onInput($event)\"></div>\n</div>\n`,\n  styles: [`.pell{border-radius:5px;-webkit-box-shadow:0 2px 3px hsla(0,0%,4%,.1),0 0 0 1px hsla(0,0%,4%,.1);box-shadow:0 2px 3px hsla(0,0%,4%,.1),0 0 0 1px hsla(0,0%,4%,.1)}.pell,.pell-content{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.pell-content{height:300px;outline:0;overflow-y:auto;padding:10px}.pell-actionbar{background-color:#fff;border-bottom:1px solid hsla(0,0%,4%,.1);border-top-left-radius:5px;border-top-right-radius:5px;width:100%}.pell-button{background-color:transparent;border:none;cursor:pointer;height:30px;outline:0;width:30px}`],\n})\nexport class PellComponent implements OnInit {\n  actions = Object.keys(pell.actions).map(action => pell.actions[action]);\n  actionBarClass = 'pell-actionbar';\n  actionButtonClass = 'pell-button';\n  contentClass = 'pell-content';\n\n  @Output()\n  onChange = new EventEmitter<string>()\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onInput(event: any) {\n    this.onChange.emit(event.target.innerHTML);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PellComponent } from './pell.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [PellComponent],\n  exports: [PellComponent]\n})\nexport class PellModule { }\n"]}