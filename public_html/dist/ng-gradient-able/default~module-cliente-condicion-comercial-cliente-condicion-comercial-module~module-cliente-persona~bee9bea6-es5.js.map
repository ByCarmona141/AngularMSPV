{"version":3,"sources":["webpack:///src/app/module/cliente-persona/components/create/cliente-persona-create.component.ts","webpack:///src/app/module/cliente-persona/components/create/cliente-persona-create.component.html","webpack:///src/app/module/cliente-persona/interface/cliente-persona-data-form.ts","webpack:///src/app/module/cliente-persona/service/cliente-persona.service.ts"],"names":["ClientePersonaCreateComponent","router","formBuilder","validators","activeModal","service","clienteService","personaService","register","loading","modal","form","group","Cliente","required","Persona","Relacion","Titulo","minLength","maxLength","Telefono","Telefono2","CorreoElectronico","values","valid","create","subscribe","resp","id","split","parseInt","length","close","error","fire","title","type","text","message","then","console","log","markAllAsTouched","dismiss","navigate","submit","selector","templateUrl","styles","ClientePersonaDataForm","field","label","items","combo","empty","add","component","ClientePersonaService","http","formData","headers","Authorization","localStorage","getItem","post","put","get","providedIn"],"mappings":"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","file":"default~module-cliente-condicion-comercial-cliente-condicion-comercial-module~module-cliente-persona~bee9bea6-es5.js","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ValidatorsService } from '../../../../services/validators.service';\nimport { ClientePersonaDataForm } from \"../../interface/cliente-persona-data-form\";\nimport { ClientePersonaService } from '../../service/cliente-persona.service';\nimport { ClienteService } from '../../../cliente/service/cliente.service';\nimport { PersonaService } from '../../../persona/service/persona.service';\nimport { NgbActiveModal } from \"@ng-bootstrap/ng-bootstrap\";\nimport Swal from 'sweetalert2';\n\n\n@Component({\n  selector: 'app-cliente-persona-create',\n  templateUrl: './cliente-persona-create.component.html',\n  styles: []\n})\n\nexport class ClientePersonaCreateComponent extends ClientePersonaDataForm implements OnInit {\n  form: FormGroup;\n  register = false;\n  loading = true;\n  @Input() modal = false;\n\n  constructor(private router: Router,\n              private formBuilder: FormBuilder,\n              private validators: ValidatorsService,\n              private activeModal: NgbActiveModal,\n              private service: ClientePersonaService,\n              private clienteService: ClienteService,\n              private personaService: PersonaService) {\n    super(clienteService,\n              personaService);\n  }\n\n  ngOnInit(): void {\n    this.form = this.formBuilder.group({\n      Cliente: [null, [Validators.required]],\n      Persona: [null, [Validators.required]],\n      Relacion: [null, [Validators.required]],\n      Titulo: [null, [Validators.minLength(1), Validators.maxLength(65)]],\n      Telefono: [null, [Validators.minLength(1), Validators.maxLength(16)]],\n      Telefono2: [null, [Validators.minLength(1), Validators.maxLength(16)]],\n      CorreoElectronico: [null, [Validators.minLength(1), Validators.maxLength(64)]]\n    });\n\n    this.loading = false;\n  }\n\n  submit(values): void {\n    this.register = true;\n    if (this.form.valid) {\n      this.service.create(values)\n        .subscribe(resp => {\n          if (this.modal) {\n            let id = resp['@id'].split('/');\n            id = parseInt(id[id.length - 1]);\n            this.activeModal.close(id);\n            return;\n          }\n          this.return();\n          this.register = false;\n        }, error => {\n          Swal.fire({\n            title: 'Error',\n            type: 'error',\n            text: 'Ocurrió un error' + error.message\n          }).then(() => {\n            console.log(error);\n            this.register = false;\n          });\n        });\n    } else {\n      this.form.markAllAsTouched();\n      this.register = false;\n    }\n  }\n\n  return(): void {\n    if (this.modal){\n      this.activeModal.dismiss('cancel');\n      return;\n    }\n    this.router.navigate(['/ClientePersona']).then();\n  }\n}\n","<app-create-template [loading]=\"loading\" [register]=\"register\" [form]=\"form\" [modal]=\"modal\" title=\"ClientePersona\"\n                     (submit)=\"submit($event)\" (cancel)=\"return()\">\n  <app-input-template [form]=\"form\" [data]=\"Cliente\"></app-input-template>\n      <app-input-template [form]=\"form\" [data]=\"Persona\"></app-input-template>\n      <app-input-template [form]=\"form\" [data]=\"Relacion\"></app-input-template>\n      <app-input-template [form]=\"form\" [data]=\"Titulo\"></app-input-template>\n      <app-input-template [form]=\"form\" [data]=\"Telefono\"></app-input-template>\n      <app-input-template [form]=\"form\" [data]=\"Telefono2\"></app-input-template>\n      <app-input-template [form]=\"form\" [data]=\"CorreoElectronico\"></app-input-template>\n</app-create-template>","import { DataForm } from '../../../interfaces/data-form';\nimport { ClienteService } from '../../cliente/service/cliente.service';\nimport { ClienteCreateComponent } from '../../cliente/components/create/cliente-create.component';\nimport { PersonaService } from '../../persona/service/persona.service';\nimport { PersonaCreateComponent } from '../../persona/components/create/persona-create.component';\n\nexport abstract class ClientePersonaDataForm {\n\n    Cliente: DataForm = {\n    field: 'Cliente',\n    type: 'select',\n    label: 'Cliente',\n    message: 'Ingrese un Cliente'\n  };\n  Persona: DataForm = {\n    field: 'Persona',\n    type: 'select',\n    label: 'Persona',\n    message: 'Ingrese un Persona'\n  };\n  Relacion: DataForm = {\n    field: 'Relacion',\n    type: 'number',\n    label: 'Relación',\n    message: 'Ingrese un numero'\n  };\n  Titulo: DataForm = {\n    field: 'Titulo',\n    type: 'text',\n    label: 'Titulo',\n    message: 'Ingrese minimo 1 letra y maximo 65'\n  };\n  Telefono: DataForm = {\n    field: 'Telefono',\n    type: 'text',\n    label: 'Teléfono',\n    message: 'Ingrese minimo 1 letra y maximo 16'\n  };\n  Telefono2: DataForm = {\n    field: 'Telefono2',\n    type: 'text',\n    label: 'Teléfono2',\n    message: 'Ingrese minimo 1 letra y maximo 16'\n  };\n  CorreoElectronico: DataForm = {\n    field: 'CorreoElectronico',\n    type: 'text',\n    label: 'Correo Electrónico',\n    message: 'Ingrese minimo 1 letra y maximo 64'\n  };\n\n    protected constructor(clienteService: ClienteService,\n              personaService: PersonaService) {\n        this.Cliente.items = clienteService.combo();\n    this.Cliente.empty = true;\n    this.Cliente.add = true;\n    this.Cliente.component = ClienteCreateComponent;\n    this.Persona.items = personaService.combo();\n    this.Persona.empty = true;\n    this.Persona.add = true;\n    this.Persona.component = PersonaCreateComponent;\n    }\n\n    abstract submit(values): void;\n\n    abstract return(): void;\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { API_URL, systemName } from '../../../../environments/environment';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClientePersonaService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  create(formData: {}): Observable<any> {\n    const headers = new HttpHeaders({\n        Authorization: localStorage.getItem(systemName + 'Token')\n    });\n    return this.http.post(`${API_URL}api/ClientePersona`, formData, { headers });\n  }\n\n  update(formData: {}, id: number): Observable<any> {\n    const headers = new HttpHeaders({\n        Authorization: localStorage.getItem(systemName + 'Token')\n    });\n    return this.http.put(`${API_URL}api/ClientePersona/${id}`, formData, { headers });\n  }\n\n  delete(id: number): Observable<any> {\n    const headers = new HttpHeaders({\n        Authorization: localStorage.getItem(systemName + 'Token')\n    });\n    return this.http.delete(`${API_URL}api/ClientePersona/${id}`, { headers });\n  }\n\n  data(id): Observable<any> {\n    const headers = new HttpHeaders({\n        Authorization: localStorage.getItem(systemName + 'Token')\n    });\n    return this.http.get(`${API_URL}api/ClientePersona/${ id }`, { headers });\n  }\n\n  combo(): Observable<any> {\n    const headers = new HttpHeaders({\n        Authorization: localStorage.getItem(systemName + 'Token')\n    });\n    return this.http.get(`${API_URL}api/ClientePersona/combo`, { headers });\n  }\n}\n"]}